webpackJsonp(["main"],{"./client/actionTypes/index.js":function(e,t,n){"use strict";t.x="LOADING_PROJECT";t.z="LOADING_PROJECT_SUCCESS";t.y="LOADING_PROJECT_FAILURE";t.r="LOADING_POSTS";t.w="LOADING_POSTS_SUCCESS";t.s="LOADING_POSTS_FAILURE";t.t="LOADING_POSTS_MORE";t.v="LOADING_POSTS_MORE_SUCCESS";t.u="LOADING_POSTS_MORE_FAILURE";t.i="LOADING_ARTICLE";t.k="LOADING_ARTICLE_SUCCESS";t.j="LOADING_ARTICLE_FAILURE";t.f="LOADING_ARCHIVES";t.h="LOADING_ARCHIVES_SUCCESS";t.g="LOADING_ARCHIVES_FAILURE";t.l="LOADING_COMMENT";t.n="LOADING_COMMENT_SUCCESS";t.m="LOADING_COMMENT_FAILURE";t.a="ADD_COMMENT_FAILURE";t.c="LOADING_ABOUT";t.e="LOADING_ABOUT_SUCCESS";t.d="LOADING_ABOUT_FAILURE";t.o="LOADING_MESSAGE";t.q="LOADING_MESSAGE_SUCCESS";t.p="LOADING_MESSAGE_FAILURE";t.b="ADD_MESSAGE_FAILURE"},"./client/components/footer/index.scss":function(e,t){},"./client/components/header/index.scss":function(e,t){},"./client/components/toolbar/index.scss":function(e,t){},"./client/constants/index.js":function(e,t){e.exports={INITIAL_STATE:"INITIAL_STATE",LOADING_STATE:"LOADING_STATE",SUCCESS_STATE:"SUCCESS_STATE",FAILURE_STATE:"FAILURE_STATE",cacheName:"html-0-1",apiCacheName:"api-0-1"}},"./client/index.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};n.d(a,"info",function(){return k}),n.d(a,"projects",function(){return R}),n.d(a,"posts",function(){return G}),n.d(a,"article",function(){return M}),n.d(a,"archives",function(){return P}),n.d(a,"comment",function(){return F}),n.d(a,"message",function(){return B});var o=n("./node_modules/react/index.js"),l=n.n(o),c=n("./node_modules/react-dom/index.js"),s=n.n(c),i=(n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/react-redux/es/index.js")),r=n("./node_modules/react-fastclick/src/index.js"),d=n.n(r),m=n("./node_modules/react-router-dom/es/index.js");function u(e){let t=null;return class extends o.Component{static load(){return e().then(e=>{t=e.default||e})}constructor(...e){super(...e),this.state={component:t}}async componentDidMount(){if(null===this.state.component){const t=(await e()).default;this.setState({component:t})}}render(){const e=this.state.component;return e?l.a.createElement(e,this.props):null}}}var E,h=n("./client/util/throttle.js"),p=n("./node_modules/classnames/index.js"),S=n.n(p),T=n("./client/util/eventUtil.js");n("./client/components/header/index.scss");let A=null;function f(e){e=T.a.getEvent(e),T.a.preventDefault(e)}let _=Object(m.f)(E=class extends o.Component{constructor(...e){super(...e),this.state={menuVisible:null},this.noMoving=(e=>(e.preventDefault(),!1)),this.pageForbidScroll=(()=>{document.body.style.overflow="hidden",document.body.ontouchmove=f,document.getElementsByClassName("body-wrap")[0].ontouchmove=f,document.getElementsByClassName("header-wrap")[0].ontouchmove=f}),this.pageAllowScroll=(()=>{document.body.style.overflow="",document.body.ontouchmove=null,document.getElementsByClassName("body-wrap")[0].ontouchmove=null,document.getElementsByClassName("header-wrap")[0].ontouchmove=null}),this.toggleMenu=(()=>{const e=this.state.menuVisible;!e&&document.body.clientWidth<=768?this.pageForbidScroll():this.pageAllowScroll(),this.setState(t=>({menuVisible:!e}))}),this.handleResize=(()=>{const e=document.body.clientWidth;e>768&&A<=768?(this.setState({menuVisible:!0}),this.pageAllowScroll()):A>=768&&e<768&&this.setState({menuVisible:null}),A=e}),this.handleNav=((e,t)=>{e.stopPropagation(),document.body.clientWidth<=768&&this.props.location.pathname!==t?(this.setState({menuVisible:!1}),this.pageAllowScroll(),window.scrollTo(0,0)):this.props.location.pathname!==t&&window.scrollTo(0,0)}),this.goBack=(e=>{e.preventDefault(),this.props.history.goBack()}),this.handleResize=Object(h.a)(this.handleResize,10)}componentDidMount(){this.handleResize(),T.a.addHandler(window,"resize",this.handleResize)}componentWillUnmount(){T.a.removeHandler(window,"resize",this.handleResize)}render(){const e=this.state.menuVisible;return l.a.createElement("div",{className:"header-wrap"},l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"logo"},l.a.createElement(m.b,{to:"/"},l.a.createElement("img",{src:"//cdn.lindongzhou.com/logo.jpeg"}))),l.a.createElement("div",{className:"space"}),l.a.createElement("div",{className:"toggle-menu",onClick:this.toggleMenu},l.a.createElement("span",{className:S()({"menu-icon":!0,active:e})})),l.a.createElement("ul",{className:S()({"header-nav":!0,active:e,unactive:null!==e&&!e}),onClick:this.toggleMenu},l.a.createElement("li",null,l.a.createElement(m.c,{exact:!0,onClick:e=>this.handleNav(e,"/"),to:"/",activeClassName:"active"},l.a.createElement("i",{className:"iconfont icon-home"}),"首页")),l.a.createElement("li",null,l.a.createElement(m.c,{onClick:e=>this.handleNav(e,"/project"),to:"/project",activeClassName:"active"},l.a.createElement("i",{className:"iconfont icon-project"}),"项目")),l.a.createElement("li",null,l.a.createElement(m.c,{onClick:e=>this.handleNav(e,"/about"),to:"/about",activeClassName:"active"},l.a.createElement("i",{className:"iconfont icon-me"}),"关于")),l.a.createElement("li",null,l.a.createElement(m.c,{onClick:e=>this.handleNav(e,"/archives"),to:"/archives",activeClassName:"active"},l.a.createElement("i",{className:"iconfont icon-tag"}),"归档")))))}})||E;n("./client/components/footer/index.scss");var I=()=>l.a.createElement("footer",{className:"footer"},"Copyright © 2016-",(new Date).getFullYear()," Lindz."),b=(n("./client/components/toolbar/index.scss"),n("./client/util/scroll.js"));n("./client/router/index.scss");const y=m.a,N=u(()=>Promise.all([n.e("used-twice-main"),n.e(1)]).then(n.bind(null,"./client/container/home/index.jsx"))),g=u(()=>Promise.all([n.e("used-twice-main"),n.e(0)]).then(n.bind(null,"./client/container/archives/index.jsx"))),v=u(()=>Promise.all([n.e("used-twice-main"),n.e(3)]).then(n.bind(null,"./client/container/project/index.jsx"))),L=u(()=>Promise.all([n.e("used-twice-main"),n.e(4)]).then(n.bind(null,"./client/container/about/index.jsx"))),O=u(()=>Promise.all([n.e("used-twice-main"),n.e(2)]).then(n.bind(null,"./client/container/article/index.jsx")));var C=n("./node_modules/redux/es/index.js"),w=n("./node_modules/redux-thunk/lib/index.js"),j=n.n(w),D=(n("./node_modules/redux-logger/dist/redux-logger.js"),n("./node_modules/immer/dist/immer.module.js")),x=n("./client/actionTypes/index.js"),U=n("./client/constants/index.js");const k=(e={state:U.INITIAL_STATE,html:""},t)=>Object(D.a)(e,e=>{switch(t.type){case x.c:e.state=U.LOADING_STATE,e.html="";break;case x.e:e.state=U.SUCCESS_STATE,e.html=t.payload.html;break;case x.d:e.state=U.FAILURE_STATE,e.html=""}}),R=(e={state:U.INITIAL_STATE,projects:[]},t)=>Object(D.a)(e,e=>{switch(t.type){case x.x:e.state=U.LOADING_STATE,e.projects=[];break;case x.z:e.state=U.SUCCESS_STATE,Object.keys(t.payload).forEach(n=>{e[n]=t.payload[n]});break;case x.y:e.state=U.FAILURE_STATE,e.projects=[]}}),G=(e={state:U.INITIAL_STATE,posts:[],loading:U.INITIAL_STATE,end:!1},t)=>Object(D.a)(e,e=>{switch(t.type){case x.r:e.state=U.LOADING_STATE,e.posts=[];break;case x.w:e.state=U.SUCCESS_STATE,Object.keys(t.payload).forEach(n=>{e[n]=t.payload[n]});break;case x.s:e.state=U.FAILURE_STATE,e.posts=[];break;case x.t:e.loading=U.LOADING_STATE;break;case x.v:e.end=t.payload.end,e.posts=e.posts.concat(t.payload.posts),e.loading=U.SUCCESS_STATE;break;case x.u:e.loading=U.FAILURE_STATE}}),M=(e={state:U.INITIAL_STATE,article:{}},t)=>Object(D.a)(e,e=>{switch(t.type){case x.i:e.state=U.LOADING_STATE,e.article={};break;case x.k:e.state=U.SUCCESS_STATE,e.article=t.payload;break;case x.j:e.state=U.FAILURE_STATE,e.article={}}}),P=(e={state:U.INITIAL_STATE,posts:[]},t)=>Object(D.a)(e,e=>{switch(t.type){case x.f:e.state=U.LOADING_STATE,e.posts=[];break;case x.h:e.state=U.SUCCESS_STATE,Object.keys(t.payload).forEach(n=>{e[n]=t.payload[n]});break;case x.g:e.state=U.FAILURE_STATE,e.posts=[]}}),F=(e={commentState:U.INITIAL_STATE,comments:[]},t)=>Object(D.a)(e,e=>{switch(t.type){case x.l:e.commentState=U.LOADING_STATE;break;case x.n:e.commentState=U.SUCCESS_STATE,Object.keys(t.payload).forEach(n=>{e[n]=t.payload[n]});break;case x.m:e.commentState=U.FAILURE_STATE}}),B=(e={messageState:U.INITIAL_STATE,comments:[]},t)=>Object(D.a)(e,e=>{switch(t.type){case x.o:e.messageState=U.LOADING_STATE;break;case x.q:e.messageState=U.SUCCESS_STATE,Object.keys(t.payload).forEach(n=>{e[n]=t.payload[n]});break;case x.p:e.messageState=U.FAILURE_STATE}});let W=null;W=Object(C.a)(j.a);n("./client/index.scss");const z=(H=window.__INITIAL_STATE__)?Object(C.d)(Object(C.c)(a),H,W):Object(C.d)(Object(C.c)(a),W);var H;d()(),s.a.render(l.a.createElement(i.a,{store:z},l.a.createElement(e=>l.a.createElement(y,e,l.a.createElement(m.d,{render:({location:e})=>[l.a.createElement(_,{key:"header"}),l.a.createElement("div",{key:"body",className:"body-wrap"},l.a.createElement(m.e,{location:e},l.a.createElement(m.d,{exact:!0,path:"/",component:N}),l.a.createElement(m.d,{path:"/project",component:v}),l.a.createElement(m.d,{path:"/about",component:L}),l.a.createElement(m.d,{path:"/archives",component:g}),l.a.createElement(m.d,{path:"/article/:url",component:O})),l.a.createElement("div",{className:"push"})),l.a.createElement(class extends o.PureComponent{constructor(...e){super(...e),this.state={visible:!1},this.handleToolBar=(e=>{const t=document.documentElement.clientHeight;(document.documentElement.scrollTop||document.body.scrollTop)>=t?this.setState({visible:!0}):this.setState({visible:!1})}),this.returnTop=(e=>{e.preventDefault(),b.a.call(this,document.getElementsByTagName("body")[0],500)}),this.handleToolBar=Object(h.a)(this.handleToolBar,500)}componentDidMount(){T.a.addHandler(window,"scroll",this.handleToolBar)}componentWillUnmount(){T.a.removeHandler(window,"scroll",this.handleToolBar)}render(){return l.a.createElement("a",{className:S()({returnTop:!0,active:this.state.visible}),onClick:this.returnTop,href:"#"},l.a.createElement("i",{className:"iconfont icon-arrow-top"}),l.a.createElement("br",null),"TOP")}},{key:"toolbar"}),l.a.createElement(I,{key:"footer"})]})),null)),document.getElementById("root")),T.a.addHandler(window,"resize",()=>{const e=document.getElementsByTagName("html")[0];let t=document.documentElement.clientWidth||document.body.clientWidth;t>768&&(t=768),e.style.fontSize=t/10+"px"})},"./client/index.scss":function(e,t){},"./client/router/index.scss":function(e,t){},"./client/util/eventUtil.js":function(e,t,n){"use strict";t.a={addHandler:function(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n,a){e.removeEventListener?e.removeEventListener(t,n,a||!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},getEvent:function(e){return e||window.event},getTarget:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getRelatedTarget:function(e){return e.relatedTarget?e.relatedTarget:e.toElement?e.toElement:e.formElement?e.formElement:null},getButton:function(e){if(document.implementation.hasFeature("MouseEvents","2.0"))return e.button;switch(e.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getWheelDelta:function(e){return e.wheelDelta?e.wheelDelta:40*-e.detail},getCharCode:function(e){return"number"==typeof e.charCode?e.charCode:e.keyCode}}},"./client/util/scroll.js":function(e,t,n){"use strict";function a(e){return e=parseInt(e,10),isNaN(e)?0:e}t.a=function(e,t,n){if("object"!=typeof e&&(e=document.getElementById(e)),!e)return;const o={};o.el=e,o.p=function(e){let t=0,n=-65,o=a(e.style.width),l=a(e.style.height),c=e.offsetWidth,s=e.offsetHeight;for(;e.offsetParent;)t+=e.offsetLeft+(e.currentStyle?a(e.currentStyle.borderLeftWidth):0),n+=e.offsetTop+(e.currentStyle?a(e.currentStyle.borderTopWidth):0),e=e.offsetParent;return{x:t+=e.offsetLeft+(e.currentStyle?a(e.currentStyle.borderLeftWidth):0),y:n+=e.offsetTop+(e.currentStyle?a(e.currentStyle.borderTopWidth):0),w:o,h:l,wb:c,hb:s}}(e),o.s=function(){let e=null,t=null,n=null,a=null;return document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,t=document.documentElement.scrollLeft,n=document.documentElement.scrollWidth,a=document.documentElement.scrollHeight):document.body&&(e=document.body.scrollTop,t=document.body.scrollLeft,n=document.body.scrollWidth,a=document.body.scrollHeight),{t:e,l:t,w:n,h:a}}(),o.clear=function(){window.clearInterval(o.timer),o.timer=null},o.t=(new Date).getTime(),o.step=function(){let e=(new Date).getTime(),a=(e-o.t)/t;if(e>=t+o.t)o.clear(),window.setTimeout(function(){o.scroll(o.p.y,o.p.x),n&&n()},13);else{const e=(-Math.cos(a*Math.PI)/2+.5)*(o.p.y-o.s.t)+o.s.t,t=(-Math.cos(a*Math.PI)/2+.5)*(o.p.x-o.s.l)+o.s.l;o.scroll(e,t)}},o.scroll=function(e,t){window.scrollTo(t,e)},o.timer=window.setInterval(function(){o.step()},13)}},"./client/util/throttle.js":function(e,t,n){"use strict";t.a=function(e,t,n){let a,o,l,c=0;n||(n={});let s=function(){c=!1===n.leading?0:(new Date).getTime(),a=null,e.apply(o,l),a||(o=l=null)};return function(){let i=(new Date).getTime();c||!1!==n.leading||(c=i);let r=t-(i-c);o=this,l=arguments,r<=0||r>t?(a&&(clearTimeout(a),a=null),c=i,e.apply(o,l),a||(o=l=null)):a||!1===n.trailing||(a=setTimeout(s,r))}}}},["./client/index.jsx"]);