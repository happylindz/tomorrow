webpackJsonp(["main-legacy"],{"./client/actionTypes/index.js":function(e,t,n){"use strict";n.d(t,"x",function(){return o}),n.d(t,"z",function(){return r}),n.d(t,"y",function(){return a}),n.d(t,"r",function(){return c}),n.d(t,"w",function(){return i}),n.d(t,"s",function(){return l}),n.d(t,"t",function(){return u}),n.d(t,"v",function(){return s}),n.d(t,"u",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"f",function(){return E}),n.d(t,"h",function(){return h}),n.d(t,"g",function(){return y}),n.d(t,"l",function(){return S}),n.d(t,"n",function(){return b}),n.d(t,"m",function(){return v}),n.d(t,"a",function(){return T}),n.d(t,"c",function(){return _}),n.d(t,"e",function(){return A}),n.d(t,"d",function(){return g}),n.d(t,"o",function(){return I}),n.d(t,"q",function(){return O}),n.d(t,"p",function(){return w}),n.d(t,"b",function(){return N});var o="LOADING_PROJECT",r="LOADING_PROJECT_SUCCESS",a="LOADING_PROJECT_FAILURE",c="LOADING_POSTS",i="LOADING_POSTS_SUCCESS",l="LOADING_POSTS_FAILURE",u="LOADING_POSTS_MORE",s="LOADING_POSTS_MORE_SUCCESS",d="LOADING_POSTS_MORE_FAILURE",f="LOADING_ARTICLE",m="LOADING_ARTICLE_SUCCESS",p="LOADING_ARTICLE_FAILURE",E="LOADING_ARCHIVES",h="LOADING_ARCHIVES_SUCCESS",y="LOADING_ARCHIVES_FAILURE",S="LOADING_COMMENT",b="LOADING_COMMENT_SUCCESS",v="LOADING_COMMENT_FAILURE",T="ADD_COMMENT_FAILURE",_="LOADING_ABOUT",A="LOADING_ABOUT_SUCCESS",g="LOADING_ABOUT_FAILURE",I="LOADING_MESSAGE",O="LOADING_MESSAGE_SUCCESS",w="LOADING_MESSAGE_FAILURE",N="ADD_MESSAGE_FAILURE"},"./client/components/footer/index.scss":function(e,t){},"./client/components/header/index.scss":function(e,t){},"./client/components/toolbar/index.scss":function(e,t){},"./client/constants/index.js":function(e,t){e.exports={INITIAL_STATE:"INITIAL_STATE",LOADING_STATE:"LOADING_STATE",SUCCESS_STATE:"SUCCESS_STATE",FAILURE_STATE:"FAILURE_STATE",cacheName:"html-0-1",apiCacheName:"api-0-1"}},"./client/index.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"info",function(){return M}),n.d(o,"projects",function(){return F}),n.d(o,"posts",function(){return B}),n.d(o,"article",function(){return W}),n.d(o,"archives",function(){return z}),n.d(o,"comment",function(){return H}),n.d(o,"message",function(){return V});var r=n("./node_modules/react/index.js"),a=n.n(r),c=n("./node_modules/react-dom/index.js"),i=n.n(c),l=(n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/react-redux/es/index.js")),u=n("./node_modules/react-fastclick/src/index.js"),s=n.n(u),d=n("./node_modules/react-router-dom/es/index.js"),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e){var t=null;return function(n){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(r)));return c.state={component:t},c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r["Component"]),f(o,null,[{key:"load",value:function(){return e().then(function(e){t=e.default||e})}}]),f(o,[{key:"componentDidMount",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.state.component){t.next=6;break}return t.next=3,e();case 3:n=t.sent,o=n.default,this.setState({component:o});case 6:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function o(r,a){try{var c=e[r](a),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});t(i)}("next")})});return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):null}}]),o}()}var p,E=n("./client/util/throttle.js"),h=n("./node_modules/classnames/index.js"),y=n.n(h),S=n("./client/util/eventUtil.js"),b=(n("./client/components/header/index.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}());var v=null;function T(e){e=S.a.getEvent(e),S.a.preventDefault(e)}var _=Object(d.f)(p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return a.state={menuVisible:null},a.noMoving=function(e){return e.preventDefault(),!1},a.pageForbidScroll=function(){document.body.style.overflow="hidden",document.body.ontouchmove=T,document.getElementsByClassName("body-wrap")[0].ontouchmove=T,document.getElementsByClassName("header-wrap")[0].ontouchmove=T},a.pageAllowScroll=function(){document.body.style.overflow="",document.body.ontouchmove=null,document.getElementsByClassName("body-wrap")[0].ontouchmove=null,document.getElementsByClassName("header-wrap")[0].ontouchmove=null},a.toggleMenu=function(){var e=a.state.menuVisible;!e&&document.body.clientWidth<=768?a.pageForbidScroll():a.pageAllowScroll(),a.setState(function(t){return{menuVisible:!e}})},a.handleResize=function(){var e=document.body.clientWidth;e>768&&v<=768?(a.setState({menuVisible:!0}),a.pageAllowScroll()):v>=768&&e<768&&a.setState({menuVisible:null}),v=e},a.handleNav=function(e,t){e.stopPropagation(),document.body.clientWidth<=768&&a.props.location.pathname!==t?(a.setState({menuVisible:!1}),a.pageAllowScroll(),window.scrollTo(0,0)):a.props.location.pathname!==t&&window.scrollTo(0,0)},a.goBack=function(e){e.preventDefault(),a.props.history.goBack()},a.handleResize=Object(E.a)(a.handleResize,10),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),b(t,[{key:"componentDidMount",value:function(){this.handleResize(),S.a.addHandler(window,"resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){S.a.removeHandler(window,"resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.state.menuVisible;return a.a.createElement("div",{className:"header-wrap"},a.a.createElement("header",{className:"header"},a.a.createElement("div",{className:"logo"},a.a.createElement(d.b,{to:"/"},a.a.createElement("img",{src:"//cdn.lindongzhou.com/logo.jpeg"}))),a.a.createElement("div",{className:"space"}),a.a.createElement("div",{className:"toggle-menu",onClick:this.toggleMenu},a.a.createElement("span",{className:y()({"menu-icon":!0,active:t})})),a.a.createElement("ul",{className:y()({"header-nav":!0,active:t,unactive:null!==t&&!t}),onClick:this.toggleMenu},a.a.createElement("li",null,a.a.createElement(d.c,{exact:!0,onClick:function(t){return e.handleNav(t,"/")},to:"/",activeClassName:"active"},a.a.createElement("i",{className:"iconfont icon-home"}),"首页")),a.a.createElement("li",null,a.a.createElement(d.c,{onClick:function(t){return e.handleNav(t,"/project")},to:"/project",activeClassName:"active"},a.a.createElement("i",{className:"iconfont icon-project"}),"项目")),a.a.createElement("li",null,a.a.createElement(d.c,{onClick:function(t){return e.handleNav(t,"/about")},to:"/about",activeClassName:"active"},a.a.createElement("i",{className:"iconfont icon-me"}),"关于")),a.a.createElement("li",null,a.a.createElement(d.c,{onClick:function(t){return e.handleNav(t,"/archives")},to:"/archives",activeClassName:"active"},a.a.createElement("i",{className:"iconfont icon-tag"}),"归档")))))}}]),t}())||p,A=(n("./client/components/footer/index.scss"),function(){return a.a.createElement("footer",{className:"footer"},"Copyright © 2016-",(new Date).getFullYear()," Lindz.")}),g=(n("./client/components/toolbar/index.scss"),n("./client/util/scroll.js")),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var O=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return a.state={visible:!1},a.handleToolBar=function(e){var t=document.documentElement.clientHeight;(document.documentElement.scrollTop||document.body.scrollTop)>=t?a.setState({visible:!0}):a.setState({visible:!1})},a.returnTop=function(e){e.preventDefault(),g.a.call(a,document.getElementsByTagName("body")[0],500)},a.handleToolBar=Object(E.a)(a.handleToolBar,500),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),I(t,[{key:"componentDidMount",value:function(){S.a.addHandler(window,"scroll",this.handleToolBar)}},{key:"componentWillUnmount",value:function(){S.a.removeHandler(window,"scroll",this.handleToolBar)}},{key:"render",value:function(){return a.a.createElement("a",{className:y()({returnTop:!0,active:this.state.visible}),onClick:this.returnTop,href:"#"},a.a.createElement("i",{className:"iconfont icon-arrow-top"}),a.a.createElement("br",null),"TOP")}}]),t}(),w=(n("./client/router/index.scss"),d.a),N=m(function(){return Promise.all([n.e("used-twice-main-legacy"),n.e(1)]).then(n.bind(null,"./client/container/home/index.jsx"))}),j=m(function(){return Promise.all([n.e("used-twice-main-legacy"),n.e(0)]).then(n.bind(null,"./client/container/archives/index.jsx"))}),L=m(function(){return Promise.all([n.e("used-twice-main-legacy"),n.e(3)]).then(n.bind(null,"./client/container/project/index.jsx"))}),C=m(function(){return Promise.all([n.e("used-twice-main-legacy"),n.e(4)]).then(n.bind(null,"./client/container/about/index.jsx"))}),x=m(function(){return Promise.all([n.e("used-twice-main-legacy"),n.e(2)]).then(n.bind(null,"./client/container/article/index.jsx"))}),D=n("./node_modules/redux/es/index.js"),k=n("./node_modules/redux-thunk/lib/index.js"),U=n.n(k),R=(n("./node_modules/redux-logger/dist/redux-logger.js"),n("./node_modules/immer/dist/immer.module.js")),P=n("./client/actionTypes/index.js"),G=n("./client/constants/index.js"),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:G.INITIAL_STATE,html:""},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.c:e.state=G.LOADING_STATE,e.html="";break;case P.e:e.state=G.SUCCESS_STATE,e.html=t.payload.html;break;case P.d:e.state=G.FAILURE_STATE,e.html=""}})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:G.INITIAL_STATE,projects:[]},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.x:e.state=G.LOADING_STATE,e.projects=[];break;case P.z:e.state=G.SUCCESS_STATE,Object.keys(t.payload).forEach(function(n){e[n]=t.payload[n]});break;case P.y:e.state=G.FAILURE_STATE,e.projects=[]}})},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:G.INITIAL_STATE,posts:[],loading:G.INITIAL_STATE,end:!1},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.r:e.state=G.LOADING_STATE,e.posts=[];break;case P.w:e.state=G.SUCCESS_STATE,Object.keys(t.payload).forEach(function(n){e[n]=t.payload[n]});break;case P.s:e.state=G.FAILURE_STATE,e.posts=[];break;case P.t:e.loading=G.LOADING_STATE;break;case P.v:e.end=t.payload.end,e.posts=e.posts.concat(t.payload.posts),e.loading=G.SUCCESS_STATE;break;case P.u:e.loading=G.FAILURE_STATE}})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:G.INITIAL_STATE,article:{}},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.i:e.state=G.LOADING_STATE,e.article={};break;case P.k:e.state=G.SUCCESS_STATE,e.article=t.payload;break;case P.j:e.state=G.FAILURE_STATE,e.article={}}})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:G.INITIAL_STATE,posts:[]},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.f:e.state=G.LOADING_STATE,e.posts=[];break;case P.h:e.state=G.SUCCESS_STATE,Object.keys(t.payload).forEach(function(n){e[n]=t.payload[n]});break;case P.g:e.state=G.FAILURE_STATE,e.posts=[]}})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{commentState:G.INITIAL_STATE,comments:[]},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.l:e.commentState=G.LOADING_STATE;break;case P.n:e.commentState=G.SUCCESS_STATE,Object.keys(t.payload).forEach(function(n){e[n]=t.payload[n]});break;case P.m:e.commentState=G.FAILURE_STATE}})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messageState:G.INITIAL_STATE,comments:[]},t=arguments[1];return Object(R.a)(e,function(e){switch(t.type){case P.o:e.messageState=G.LOADING_STATE;break;case P.q:e.messageState=G.SUCCESS_STATE,Object.keys(t.payload).forEach(function(n){e[n]=t.payload[n]});break;case P.p:e.messageState=G.FAILURE_STATE}})},J=null;J=Object(D.a)(U.a);n("./client/index.scss");var q,Y=(q=window.__INITIAL_STATE__)?Object(D.d)(Object(D.c)(o),q,J):Object(D.d)(Object(D.c)(o),J);s()(),i.a.render(a.a.createElement(l.a,{store:Y},a.a.createElement(function(e){return a.a.createElement(w,e,a.a.createElement(d.d,{render:function(e){var t=e.location;return[a.a.createElement(_,{key:"header"}),a.a.createElement("div",{key:"body",className:"body-wrap"},a.a.createElement(d.e,{location:t},a.a.createElement(d.d,{exact:!0,path:"/",component:N}),a.a.createElement(d.d,{path:"/project",component:L}),a.a.createElement(d.d,{path:"/about",component:C}),a.a.createElement(d.d,{path:"/archives",component:j}),a.a.createElement(d.d,{path:"/article/:url",component:x})),a.a.createElement("div",{className:"push"})),a.a.createElement(O,{key:"toolbar"}),a.a.createElement(A,{key:"footer"})]}}))},null)),document.getElementById("root")),S.a.addHandler(window,"resize",function(){var e=document.getElementsByTagName("html")[0],t=document.documentElement.clientWidth||document.body.clientWidth;t>768&&(t=768),e.style.fontSize=t/10+"px"})},"./client/index.scss":function(e,t){},"./client/router/index.scss":function(e,t){},"./client/util/eventUtil.js":function(e,t,n){"use strict";t.a={addHandler:function(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},getEvent:function(e){return e||window.event},getTarget:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getRelatedTarget:function(e){return e.relatedTarget?e.relatedTarget:e.toElement?e.toElement:e.formElement?e.formElement:null},getButton:function(e){if(document.implementation.hasFeature("MouseEvents","2.0"))return e.button;switch(e.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getWheelDelta:function(e){return e.wheelDelta?e.wheelDelta:40*-e.detail},getCharCode:function(e){return"number"==typeof e.charCode?e.charCode:e.keyCode}}},"./client/util/scroll.js":function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){return e=parseInt(e,10),isNaN(e)?0:e}t.a=function(e,t,n){if("object"!==(void 0===e?"undefined":o(e))&&(e=document.getElementById(e)),e){var a,c,i,l,u={};u.el=e,u.p=function(e){for(var t=0,n=-65,o=r(e.style.width),a=r(e.style.height),c=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=e.offsetLeft+(e.currentStyle?r(e.currentStyle.borderLeftWidth):0),n+=e.offsetTop+(e.currentStyle?r(e.currentStyle.borderTopWidth):0),e=e.offsetParent;return{x:t+=e.offsetLeft+(e.currentStyle?r(e.currentStyle.borderLeftWidth):0),y:n+=e.offsetTop+(e.currentStyle?r(e.currentStyle.borderTopWidth):0),w:o,h:a,wb:c,hb:i}}(e),u.s=(a=null,c=null,i=null,l=null,document.documentElement&&document.documentElement.scrollTop?(a=document.documentElement.scrollTop,c=document.documentElement.scrollLeft,i=document.documentElement.scrollWidth,l=document.documentElement.scrollHeight):document.body&&(a=document.body.scrollTop,c=document.body.scrollLeft,i=document.body.scrollWidth,l=document.body.scrollHeight),{t:a,l:c,w:i,h:l}),u.clear=function(){window.clearInterval(u.timer),u.timer=null},u.t=(new Date).getTime(),u.step=function(){var e=(new Date).getTime(),o=(e-u.t)/t;if(e>=t+u.t)u.clear(),window.setTimeout(function(){u.scroll(u.p.y,u.p.x),n&&n()},13);else{var r=(-Math.cos(o*Math.PI)/2+.5)*(u.p.y-u.s.t)+u.s.t,a=(-Math.cos(o*Math.PI)/2+.5)*(u.p.x-u.s.l)+u.s.l;u.scroll(r,a)}},u.scroll=function(e,t){window.scrollTo(t,e)},u.timer=window.setInterval(function(){u.step()},13)}}},"./client/util/throttle.js":function(e,t,n){"use strict";t.a=function(e,t,n){var o=void 0,r=void 0,a=void 0,c=0;n||(n={});var i=function(){c=!1===n.leading?0:(new Date).getTime(),o=null,e.apply(r,a),o||(r=a=null)};return function(){var l=(new Date).getTime();c||!1!==n.leading||(c=l);var u=t-(l-c);r=this,a=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),c=l,e.apply(r,a),o||(r=a=null)):o||!1===n.trailing||(o=setTimeout(i,u))}}}},["./client/index.jsx"]);